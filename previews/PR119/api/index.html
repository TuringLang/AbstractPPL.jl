<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · AbstractPPL</title><meta name="title" content="API · AbstractPPL"/><meta property="og:title" content="API · AbstractPPL"/><meta property="twitter:title" content="API · AbstractPPL"/><meta name="description" content="Documentation for AbstractPPL."/><meta property="og:description" content="Documentation for AbstractPPL."/><meta property="twitter:description" content="Documentation for AbstractPPL."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body>
<!-- NAVBAR START -->
<style>
    html {
        scroll-padding-top: calc(55px + 1rem);
    }

    /* Documenter css tweaks */
    .docs-sidebar {
        margin-top: 3.75rem;
    }

    #documenter {
        margin-top: 3.75rem;
    }

    .docs-version-selector {
        margin-bottom: 60px !important;
    }

    @media screen and (max-width: 1056px) {
        .docs-version-selector {
            margin-bottom: 60px !important;
        }

        .docs-sidebar {
            margin-top: 0 !important;
        }
    }
    /* Documenter css tweaks ends here */

    :root {
        --heading-color: white;
        --item-color: rgb(165, 165, 165);
        --primary-bg: #073c44;
        --hover-color: #8faad2;
    }

    .ext-navigation {
        position: fixed;
        height: 3.75rem;
        top: 0;
        width: 100%;
        background-color: var(--primary-bg);
        z-index: 1000;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        padding: 0 1.0625rem;
        transition: transform 0.3s;
    }

    .ext-navbar-logo {
        margin-left: 0.625rem;
    }

    .ext-nav-links {
        display: flex;
        align-items: center;
        list-style-type: none;
        margin: 0;
        padding: 0;
        flex-grow: 1;
    }

    .ext-nav-links li {
        margin-left: 1rem !important;
    }

    .ext-nav-link {
        color: white !important;
        text-decoration: none;
        font-size: 1.0625rem !important;
        transition: color 0.2s ease;
        cursor: pointer;
    }

    .ext-nav-link:hover,
    .ext-navbar-item-single a:hover {
        color: var(--hover-color) !important;
    }

    .ext-navbar-item-single a {
        color: #fff !important;
    }

    .ext-menu-toggle {
        display: none;
        font-size: 1.5rem;
        color: white;
        cursor: pointer;
    }

    .ext-dropdown {
        display: none;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        grid-template-rows: auto auto auto;
        padding: 1.875rem;
        position: absolute;
        width: 100%;
        left: 0;
        background-color: #083c44;
        line-height: 1.875rem;
        opacity: 0;
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        transform: translateY(-0.625rem);
    }

    #library-handler::after {
        content: "▼";
        font-size: 0.6875rem;
        margin-left: 0.3125rem;
        transition: transform 0.3s ease-in-out;
    }

    #library-handler.open::after {
        content: "▲";
    }

    .ext-dropdown.show {
        display: grid;
        opacity: 1;
        transform: translateY(0);
    }

    .ext-dropdown ul {
        height: auto;
        width: 12.5rem;
        margin-bottom: 1.25rem;
    }

    .ext-dropdown ul li {
        text-align: left;
    }

    .navbar-sub-item {
        list-style: none;
    }

    .ext-dropdown ul a li {
        color: var(--item-color);
        width: 15.625rem;
        border-radius: 3px;
        padding: 0.125rem 0.625rem;
        transition: background-color 0.2s ease;
    }

    .ext-dropdown ul a li:hover {
        background-color: rgba(107, 107, 107, 0.5);
    }

    .ext-dropdown-item-heading {
        color: var(--heading-color);
        text-align: center;
    }

    /* Responsive styling */
    @media (max-width: 966px) {
        .ext-dropdown {
            grid-template-columns: 1fr 1fr 1fr;
        }
    }

    @media (max-width: 768px) {
        .ext-nav-links {
            display: none;
            flex-direction: column;
            width: 100%;
            background-color: var(--primary-bg);
            position: absolute;
            top: 3.75rem;
            left: 0;
            padding: 0.625rem 0;
            height: auto;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgb(141, 141, 141) grey;
        }

        .ext-nav-links.show {
            display: flex;
        }

        .ext-nav-links li {
            margin: 0.625rem 0;
            text-align: center;
        }

        .ext-menu-toggle {
            display: block;
            margin-left: auto;
        }

        .ext-navigation.hide {
            transform: translateY(-3.75rem);
        }

        .ext-dropdown {
            place-content: center;
            text-align: center;
            grid-template-columns: 1fr;
            line-height: 1.25rem;
            padding: 0.625rem;
        }

        .ext-dropdown ul {
            width: 100%;
            text-align: center;
            margin-bottom: 0.3125rem;
        }

        .ext-dropdown ul li {
            text-align: center;
        }

        .ext-dropdown ul a li {
            width: 100%;
        }

        .ext-dropdown ul a li:hover {
            background-color: var(--primary-bg);
            color: #fff;
        }

        /* Modified scroll bar */
        .ext-nav-links::-webkit-scrollbar {
            width: 5px;
        }

        .ext-nav-links::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px grey;
        }

        .ext-nav-links::-webkit-scrollbar-thumb {
            background: rgb(141, 141, 141);
            border-radius: 3px;
        }

        .ext-nav-links::-webkit-scrollbar-thumb:hover {
            background: #9b9b9b;
        }
    }
</style>
<nav class="ext-navigation">
    <a href="https://turinglang.org/">
        <img src="https://turinglang.org/assets/images/turing-logo.svg" alt="Turing Logo" class="ext-navbar-logo" height="24px" width="40px">
    </a>
    <a style="color: white !important; font-size: 21.25px !important; margin-left: 10px;" href="https://turinglang.org/">Turing.jl</a>
    <ul class="ext-nav-links">
        <li>
            <a class="ext-nav-link" href="https://turinglang.org/docs/tutorials/docs-00-getting-started/">Get Started</a>
        </li>
        <li>
            <a class="ext-nav-link" href="https://turinglang.org/docs/tutorials/00-introduction/">Tutorials</a>
        </li>
        <li>
            <p class="ext-nav-link" id="library-handler">Libraries</p>
            <div class="ext-dropdown" id="ext-dropdown-items">
                <ul>
                    <li class="ext-dropdown-item-heading">Modelling Languages</li>
                    <a href="https://turinglang.org/DynamicPPL.jl/">
                        <li>DynamicPPL</li>
                    </a>
                    <a href="https://turinglang.org/JuliaBUGS.jl/">
                        <li>JuliaBUGS</li>
                    </a>
                    <a href="https://turinglang.org/TuringGLM.jl/">
                        <li>TuringGLM</li>
                    </a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">MCMC</li>
                    <a href="https://turinglang.org/AdvancedHMC.jl/">
                        <li>AdvancedHMC</li>
                    </a>
                    <a href="https://turinglang.org/AbstractMCMC.jl/">
                        <li>AbstractMCMC</li>
                    </a>
                    <a href="https://github.com/theogf/ThermodynamicIntegration.jl">
                        <li>ThermodynamicIntegration</li>
                    </a>
                    <a href="https://turinglang.org/AdvancedPS.jl/">
                        <li>AdvancedPS</li>
                    </a>
                    <a href="https://turinglang.org/SliceSampling.jl/">
                        <li>SliceSampling</li>
                    </a>
                    <a href="https://turinglang.org/EllipticalSliceSampling.jl/">
                        <li>EllipticalSliceSampling</li>
                    </a>
                    <a href="https://turinglang.org/NestedSamplers.jl/">
                        <li>NestedSamplers</li>
                    </a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Diagnostics</li>
                    <a href="https://turinglang.org/MCMCChains.jl/">
                        <li>MCMCChains</li>
                    </a>
                    <a href="https://turinglang.org/MCMCDiagnosticTools.jl/">
                        <li>MCMCDiagnosticTools</li>
                    </a>
                    <a href="https://turinglang.org/ParetoSmooth.jl/">
                        <li>ParetoSmooth</li>
                    </a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Gaussian Processes</li>
                    <a href="https://juliagaussianprocesses.github.io/AbstractGPs.jl/">
                        <li>AbstractGPs</li>
                    </a>
                    <a href="https://juliagaussianprocesses.github.io/KernelFunctions.jl/">
                        <li>KernelFunctions</li>
                    </a>
                    <a href="https://juliagaussianprocesses.github.io/ApproximateGPs.jl/">
                        <li>ApproximateGPs</li>
                    </a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading ext-navbar-item-single">
                        <a href="https://turinglang.org/Bijectors.jl/">Bijectors</a>
                    </li>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading ext-navbar-item-single">
                        <a href="https://turinglang.org/TuringCallbacks.jl/">TuringCallbacks</a>
                    </li>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading ext-navbar-item-single">
                        <a href="https://turinglang.org/TuringBenchmarking.jl/">TuringBenchmarking</a>
                    </li>
                </ul>
            </div>
        </li>
        <li>
            <a class="ext-nav-link" href="https://turinglang.org/news/">News</a>
        </li>
        <li>
            <a class="ext-nav-link" href="https://turinglang.org/team/">Team</a>
        </li>
    </ul>
    <a href="https://x.com/TuringLang" style="margin-left: 15px; padding-top: 2px">
        <svg fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32px" height="32px" viewBox="-209.92 -209.92 931.84 931.84" xml:space="preserve" stroke="#ffffff">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
                <g id="7935ec95c421cee6d86eb22ecd12f847">
                    <path style="display: inline"
                        d="M459.186,151.787c0.203,4.501,0.305,9.023,0.305,13.565 c0,138.542-105.461,298.285-298.274,298.285c-59.209,0-114.322-17.357-160.716-47.104c8.212,0.973,16.546,1.47,25.012,1.47 c49.121,0,94.318-16.759,130.209-44.884c-45.887-0.841-84.596-31.154-97.938-72.804c6.408,1.227,12.968,1.886,19.73,1.886 c9.55,0,18.816-1.287,27.617-3.68c-47.955-9.633-84.1-52.001-84.1-102.795c0-0.446,0-0.882,0.011-1.318 c14.133,7.847,30.294,12.562,47.488,13.109c-28.134-18.796-46.637-50.885-46.637-87.262c0-19.212,5.16-37.218,14.193-52.7 c51.707,63.426,128.941,105.156,216.072,109.536c-1.784-7.675-2.718-15.674-2.718-23.896c0-57.891,46.941-104.832,104.832-104.832 c30.173,0,57.404,12.734,76.525,33.102c23.887-4.694,46.313-13.423,66.569-25.438c-7.827,24.485-24.434,45.025-46.089,58.002 c21.209-2.535,41.426-8.171,60.222-16.505C497.448,118.542,479.666,137.004,459.186,151.787z">
                    </path>
                </g>
            </g>
        </svg>
    </a>
    <a href="https://github.com/TuringLang/Turing.jl">
        <svg width="32px" height="32px" viewBox="-8.2 -8.2 36.40 36.40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
                <title>github [#142]</title>
                <desc>Created with Sketch.</desc>
                <defs></defs>
                <g id="Page-1" stroke-width="0.0002" fill="none" fill-rule="evenodd">
                    <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#ffffff">
                        <g id="icons" transform="translate(56.000000, 160.000000)">
                            <path
                                d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399"
                                id="github-[#142]">
                            </path>
                        </g>
                    </g>
                </g>
            </g>
        </svg>
    </a>
    <span class="ext-menu-toggle">&#9776;</span>
</nav>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.querySelector(".ext-menu-toggle");
        const navLinks = document.querySelector(".ext-nav-links");
        const nav = document.querySelector(".ext-navigation");
        const navigationHandler = document.getElementById("library-handler");
        const navigationItemsContainer =
            document.getElementById("ext-dropdown-items");
        let lastScrollY = window.scrollY;

        function setAppropriateHeight() {
            if (window.innerWidth <= 768) {
                const viewportHeight = window.innerHeight;
                const navHeight = nav.offsetHeight;
                navLinks.style.maxHeight = `${viewportHeight - navHeight}px`;
                navLinks.style.overflowY = "auto";
            } else {
                navLinks.style.maxHeight = "";
                navLinks.style.overflowY = "";
            }
        }

        // Toggle main menu for mobile
        menuToggle.addEventListener("click", () => {
            navLinks.classList.toggle("show");
            if (navLinks.classList.contains("show")) {
                setAppropriateHeight();
                // Ensure the dropdown is hidden when menu is first opened
                navigationItemsContainer.style.display = "none";
                navigationItemsContainer.classList.remove("show");
            }
        });

        // Close menus if clicked outside
        document.addEventListener("click", (event) => {
            if (
                !navLinks.contains(event.target) &&
                !menuToggle.contains(event.target)
            ) {
                navLinks.classList.remove("show");
                navigationItemsContainer.classList.remove("show");
                navigationHandler.classList.remove("open");
            }
        });

        // Hide navigation bar on scroll down in mobile view
        window.addEventListener("scroll", () => {
            if (window.innerWidth <= 768) {
                nav.classList.toggle("hide", window.scrollY > lastScrollY);
                lastScrollY = window.scrollY;
            }
        });

        // Library API script
        navigationHandler.addEventListener("click", (event) => {
            event.preventDefault(); // Prevent default action of the link
            if (navigationItemsContainer.classList.contains("show")) {
                navigationItemsContainer.classList.remove("show");
                navigationHandler.classList.remove("open");
                setTimeout(() => {
                    navigationItemsContainer.style.display = "none";
                }, 500); // Match the timeout to the CSS transition duration
            } else {
                navigationItemsContainer.style.display = "grid";
                navigationHandler.classList.add("open");
                setTimeout(() => {
                    navigationItemsContainer.classList.add("show");
                }, 10); // Delay to ensure the display change takes effect before adding class
            }
            setAppropriateHeight(); // Recalculate height when dropdown changes
        });

        // Handle window resize
        window.addEventListener("resize", setAppropriateHeight);

        // Initial setup
        setAppropriateHeight();
    });
</script>
<!-- NAVBAR END -->

<div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AbstractPPL</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#VarNames"><span>VarNames</span></a></li><li><a class="tocitem" href="#VarName-prefixing-and-unprefixing"><span>VarName prefixing and unprefixing</span></a></li><li><a class="tocitem" href="#VarName-serialisation"><span>VarName serialisation</span></a></li><li><a class="tocitem" href="#Abstract-model-functions"><span>Abstract model functions</span></a></li><li><a class="tocitem" href="#Abstract-traces"><span>Abstract traces</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TuringLang/AbstractPPL.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TuringLang/AbstractPPL.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="VarNames"><a class="docs-heading-anchor" href="#VarNames">VarNames</a><a id="VarNames-1"></a><a class="docs-heading-anchor-permalink" href="#VarNames" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.VarName" href="#AbstractPPL.VarName"><code>AbstractPPL.VarName</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VarName{sym}(optic=identity)</code></pre><p>A variable identifier for a symbol <code>sym</code> and optic <code>optic</code>.</p><p>The Julia variable in the model corresponding to <code>sym</code> can refer to a single value or to a hierarchical array structure of univariate, multivariate or matrix variables. The field <code>lens</code> stores the indices requires to access the random variable from the Julia variable indicated by <code>sym</code> as a tuple of tuples. Each element of the tuple thereby contains the indices of one optic operation.</p><p><code>VarName</code>s can be manually constructed using the <code>VarName{sym}(optic)</code> constructor, or from an optic expression through the <a href="#AbstractPPL.@varname"><code>@varname</code></a> convenience macro.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; vn = VarName{:x}(Accessors.IndexLens((Colon(), 1)) ⨟ Accessors.IndexLens((2, )))
x[:, 1][2]

julia&gt; getoptic(vn)
(@o _[Colon(), 1][2])

julia&gt; @varname x[:, 1][1+1]
x[:, 1][2]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L7-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.getsym" href="#AbstractPPL.getsym"><code>AbstractPPL.getsym</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getsym(vn::VarName)</code></pre><p>Return the symbol of the Julia variable used to generate <code>vn</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; getsym(@varname(x[1][2:3]))
:x

julia&gt; getsym(@varname(y))
:y</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L93-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.getoptic" href="#AbstractPPL.getoptic"><code>AbstractPPL.getoptic</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getoptic(vn::VarName)</code></pre><p>Return the optic of the Julia variable used to generate <code>vn</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; getoptic(@varname(x[1][2:3]))
(@o _[1][2:3])

julia&gt; getoptic(@varname(y))
identity (generic function with 1 method)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L110-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.inspace" href="#AbstractPPL.inspace"><code>AbstractPPL.inspace</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inspace(vn::Union{VarName, Symbol}, space::Tuple)</code></pre><p>Check whether <code>vn</code>&#39;s variable symbol is in <code>space</code>.  The empty tuple counts as the &quot;universal space&quot; containing all variables. Subsumption (see <a href="#AbstractPPL.subsumes"><code>subsumes</code></a>) is respected.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; inspace(@varname(x[1][2:3]), ())
true

julia&gt; inspace(@varname(x[1][2:3]), (:x,))
true

julia&gt; inspace(@varname(x[1][2:3]), (@varname(x),))
true

julia&gt; inspace(@varname(x[1][2:3]), (@varname(x[1:10]), :y))
true

julia&gt; inspace(@varname(x[1][2:3]), (@varname(x[:][2:4]), :y))
true

julia&gt; inspace(@varname(x[1][2:3]), (@varname(x[1:10]),))
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L214-L241">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.subsumes" href="#AbstractPPL.subsumes"><code>AbstractPPL.subsumes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subsumes(u::VarName, v::VarName)</code></pre><p>Check whether the variable name <code>v</code> describes a sub-range of the variable <code>u</code>.  Supported indexing:</p><ul><li>Scalar:</li></ul><p>```jldoctest   julia&gt; subsumes(@varname(x), @varname(x[1, 2]))   true</p><p>julia&gt; subsumes(@varname(x[1, 2]), @varname(x[1, 2][3]))   true   ```</p><ul><li>Array of scalar: basically everything that fulfills <code>issubset</code>.</li></ul><p>```jldoctest   julia&gt; subsumes(@varname(x[[1, 2], 3]), @varname(x[1, 3]))   true</p><p>julia&gt; subsumes(@varname(x[1:3]), @varname(x[2][1]))   true   ```</p><ul><li>Slices:</li></ul><p><code>jldoctest   julia&gt; subsumes(@varname(x[2, :]), @varname(x[2, 10][1]))   true</code></p><p>Currently <em>not</em> supported are: </p><ul><li>Boolean indexing, literal <code>CartesianIndex</code> (these could be added, though)</li><li>Linear indexing of multidimensional arrays: <code>x[4]</code> does not subsume <code>x[2, 2]</code> for a matrix <code>x</code></li><li>Trailing ones: <code>x[2, 1]</code> does not subsume <code>x[2]</code> for a vector <code>x</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L250-L288">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.subsumedby" href="#AbstractPPL.subsumedby"><code>AbstractPPL.subsumedby</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subsumedby(t, u)</code></pre><p>True if <code>t</code> is subsumed by <code>u</code>, i.e., if <code>subsumes(u, t)</code> is true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L330-L334">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.vsym" href="#AbstractPPL.vsym"><code>AbstractPPL.vsym</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vsym(expr)</code></pre><p>Return name part of the <a href="#AbstractPPL.@varname"><code>@varname</code></a>-compatible expression <code>expr</code> as a symbol for input of the <a href="#AbstractPPL.VarName"><code>VarName</code></a> constructor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L752-L757">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.@varname" href="#AbstractPPL.@varname"><code>AbstractPPL.@varname</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@varname(expr, concretize=false)</code></pre><p>A macro that returns an instance of <a href="#AbstractPPL.VarName"><code>VarName</code></a> given a symbol or indexing expression <code>expr</code>.</p><p>If <code>concretize</code> is <code>true</code>, the resulting expression will be wrapped in a <code>concretize()</code> call.</p><p>Note that expressions involving dynamic indexing, i.e. <code>begin</code> and/or <code>end</code>, will always need to be concretized as <code>VarName</code> only supports non-dynamic indexing as determined by <code>is_static_optic</code>. See examples below.</p><p><strong>Examples</strong></p><p><strong>Dynamic indexing</strong></p><pre><code class="language-julia-repl hljs">julia&gt; x = (a = [1.0 2.0; 3.0 4.0; 5.0 6.0], );

julia&gt; @varname(x.a[1:end, end][:], true)
x.a[1:3, 2][:]

julia&gt; @varname(x.a[end], false)  # disable concretization
ERROR: LoadError: Variable name `x.a[end]` is dynamic and requires concretization!
[...]

julia&gt; @varname(x.a[end])  # concretization occurs by default if deemed necessary
x.a[6]

julia&gt; # Note that &quot;dynamic&quot; here refers to usage of `begin` and/or `end`,
       # _not_ &quot;information only available at runtime&quot;, i.e. the following works.
       [@varname(x.a[i]) for i = 1:length(x.a)][end]
x.a[6]

julia&gt; # Potentially surprising behaviour, but this is equivalent to what Base does:
       @varname(x[2:2:5]), 2:2:5
(x[2:2:4], 2:2:4)</code></pre><p><strong>General indexing</strong></p><p>Under the hood <code>optic</code>s are used for the indexing:</p><pre><code class="language-julia-repl hljs">julia&gt; getoptic(@varname(x))
identity (generic function with 1 method)

julia&gt; getoptic(@varname(x[1]))
(@o _[1])

julia&gt; getoptic(@varname(x[:, 1]))
(@o _[Colon(), 1])

julia&gt; getoptic(@varname(x[:, 1][2]))
(@o _[Colon(), 1][2])

julia&gt; getoptic(@varname(x[1,2][1+5][45][3]))
(@o _[1, 2][6][45][3])</code></pre><p>This also means that we support property access:</p><pre><code class="language-julia-repl hljs">julia&gt; getoptic(@varname(x.a))
(@o _.a)

julia&gt; getoptic(@varname(x.a[1]))
(@o _.a[1])

julia&gt; x = (a = [(b = rand(2), )], ); getoptic(@varname(x.a[1].b[end], true))
(@o _.a[1].b[2])</code></pre><p>Interpolation can be used for variable names, or array name, but not the lhs of a <code>.</code> expression. Variables within indices are always evaluated in the calling scope.</p><pre><code class="language-julia-repl hljs">julia&gt; name, i = :a, 10;

julia&gt; @varname(x.$name[i, i+1])
x.a[10, 11]

julia&gt; @varname($name)
a

julia&gt; @varname($name[1])
a[1]

julia&gt; @varname($name.x[1])
a.x[1]

julia&gt; @varname(b.$name.x[1])
b.a.x[1]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L538-L630">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.@vsym" href="#AbstractPPL.@vsym"><code>AbstractPPL.@vsym</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@vsym(expr)</code></pre><p>A macro that returns the variable symbol given the input variable expression <code>expr</code>. For example, <code>@vsym x[1]</code> returns <code>:x</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; @vsym x
:x

julia&gt; @vsym x[1,1][2,3]
:x

julia&gt; @vsym x[end]
:x</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L729-L747">source</a></section></article><h2 id="VarName-prefixing-and-unprefixing"><a class="docs-heading-anchor" href="#VarName-prefixing-and-unprefixing">VarName prefixing and unprefixing</a><a id="VarName-prefixing-and-unprefixing-1"></a><a class="docs-heading-anchor-permalink" href="#VarName-prefixing-and-unprefixing" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.prefix" href="#AbstractPPL.prefix"><code>AbstractPPL.prefix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prefix(vn::VarName, prefix::VarName)</code></pre><p>Add a prefix to a VarName.</p><pre><code class="language-julia-repl hljs">julia&gt; AbstractPPL.prefix(@varname(x), @varname(y))
y.x

julia&gt; AbstractPPL.prefix(@varname(x.a), @varname(y))
y.x.a

julia&gt; AbstractPPL.prefix(@varname(x.a), @varname(y[1]))
y[1].x.a</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L1099-L1114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.unprefix" href="#AbstractPPL.unprefix"><code>AbstractPPL.unprefix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unprefix(vn::VarName, prefix::VarName)</code></pre><p>Remove a prefix from a VarName.</p><pre><code class="language-julia-repl hljs">julia&gt; AbstractPPL.unprefix(@varname(y.x), @varname(y))
x

julia&gt; AbstractPPL.unprefix(@varname(y.x.a), @varname(y))
x.a

julia&gt; AbstractPPL.unprefix(@varname(y[1].x), @varname(y[1]))
x

julia&gt; AbstractPPL.unprefix(@varname(y), @varname(n))
ERROR: ArgumentError: could not remove prefix n from VarName y
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L1067-L1086">source</a></section></article><h2 id="VarName-serialisation"><a class="docs-heading-anchor" href="#VarName-serialisation">VarName serialisation</a><a id="VarName-serialisation-1"></a><a class="docs-heading-anchor-permalink" href="#VarName-serialisation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.index_to_dict" href="#AbstractPPL.index_to_dict"><code>AbstractPPL.index_to_dict</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">index_to_dict(::Integer)
index_to_dict(::AbstractVector{Int})
index_to_dict(::UnitRange)
index_to_dict(::StepRange)
index_to_dict(::Colon)
index_to_dict(::ConcretizedSlice{T, Base.OneTo{I}}) where {T, I}
index_to_dict(::Tuple)</code></pre><p>Convert an index <code>i</code> to a dictionary representation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L782-L792">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.dict_to_index" href="#AbstractPPL.dict_to_index"><code>AbstractPPL.dict_to_index</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dict_to_index(dict)
dict_to_index(symbol_val, dict)</code></pre><p>Convert a dictionary representation of an index <code>dict</code> to an index.</p><p>Users can extend the functionality of <code>dict_to_index</code> (and hence <code>VarName</code> de/serialisation) by extending this method along with <a href="#AbstractPPL.index_to_dict"><code>index_to_dict</code></a>. Specifically, suppose you have a custom index type <code>MyIndexType</code> and you want to be able to de/serialise a <code>VarName</code> containing this index type. You should then implement the following two methods:</p><ol><li><p><code>AbstractPPL.index_to_dict(i::MyModule.MyIndexType)</code> should return a dictionary representation of the index <code>i</code>. This dictionary must contain the key <code>&quot;type&quot;</code>, and the corresponding value must be a string that uniquely identifies the index type. Generally, it makes sense to use the name of the type (perhaps prefixed with module qualifiers) as this value to avoid clashes. The remainder of the dictionary can have any structure you like.</p></li><li><p>Suppose the value of <code>index_to_dict(i)[&quot;type&quot;]</code> is <code>&quot;MyModule.MyIndexType&quot;</code>. You should then implement the corresponding method <code>AbstractPPL.dict_to_index(::Val{Symbol(&quot;MyModule.MyIndexType&quot;)}, dict)</code>, which should take the dictionary representation as the second argument and return the original <code>MyIndexType</code> object.</p></li></ol><p>To see an example of this in action, you can look in the the AbstractPPL test suite, which contains a test for serialising OffsetArrays.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L817-L844">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.varname_to_string" href="#AbstractPPL.varname_to_string"><code>AbstractPPL.varname_to_string</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">varname_to_string(vn::VarName)</code></pre><p>Convert a <code>VarName</code> as a string, via an intermediate dictionary. This differs from <code>string(vn)</code> in that concretised slices are faithfully represented (rather than being pretty-printed as colons).</p><p>For <code>VarName</code>s which index into an array, this function will only work if the indices can be serialised. This is true for all standard Julia index types, but if you are using custom index types, you will need to implement the <code>index_to_dict</code> and <code>dict_to_index</code> methods for those types. See the documentation of <a href="#AbstractPPL.dict_to_index"><code>dict_to_index</code></a> for instructions on how to do this.</p><pre><code class="language-julia-repl hljs">julia&gt; varname_to_string(@varname(x))
&quot;{\&quot;optic\&quot;:{\&quot;type\&quot;:\&quot;identity\&quot;},\&quot;sym\&quot;:\&quot;x\&quot;}&quot;

julia&gt; varname_to_string(@varname(x.a))
&quot;{\&quot;optic\&quot;:{\&quot;field\&quot;:\&quot;a\&quot;,\&quot;type\&quot;:\&quot;property\&quot;},\&quot;sym\&quot;:\&quot;x\&quot;}&quot;

julia&gt; y = ones(2); varname_to_string(@varname(y[:]))
&quot;{\&quot;optic\&quot;:{\&quot;indices\&quot;:{\&quot;values\&quot;:[{\&quot;type\&quot;:\&quot;Base.Colon\&quot;}],\&quot;type\&quot;:\&quot;Base.Tuple\&quot;},\&quot;type\&quot;:\&quot;index\&quot;},\&quot;sym\&quot;:\&quot;y\&quot;}&quot;

julia&gt; y = ones(2); varname_to_string(@varname(y[:], true))
&quot;{\&quot;optic\&quot;:{\&quot;indices\&quot;:{\&quot;values\&quot;:[{\&quot;range\&quot;:{\&quot;stop\&quot;:2,\&quot;type\&quot;:\&quot;Base.OneTo\&quot;},\&quot;type\&quot;:\&quot;AbstractPPL.ConcretizedSlice\&quot;}],\&quot;type\&quot;:\&quot;Base.Tuple\&quot;},\&quot;type\&quot;:\&quot;index\&quot;},\&quot;sym\&quot;:\&quot;y\&quot;}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L905-L931">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.string_to_varname" href="#AbstractPPL.string_to_varname"><code>AbstractPPL.string_to_varname</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">string_to_varname(str::AbstractString)</code></pre><p>Convert a string representation of a <code>VarName</code> back to a <code>VarName</code>. The string should have been generated by <code>varname_to_string</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/varname.jl#L934-L939">source</a></section></article><h2 id="Abstract-model-functions"><a class="docs-heading-anchor" href="#Abstract-model-functions">Abstract model functions</a><a id="Abstract-model-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-model-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.AbstractProbabilisticProgram" href="#AbstractPPL.AbstractProbabilisticProgram"><code>AbstractPPL.AbstractProbabilisticProgram</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractProbabilisticProgram</code></pre><p>Common base type for models expressed as probabilistic programs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.condition" href="#AbstractPPL.condition"><code>AbstractPPL.condition</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">condition(model, observations)</code></pre><p>Condition the generative model <code>model</code> on some observed data, creating a new model of the (possibly unnormalized) posterior distribution over them.</p><p><code>observations</code> can be of any supported internal trace type, or a fixed probability expression.</p><p>The invariant </p><pre><code class="nohighlight hljs">m = decondition(condition(m, obs))</code></pre><p>should hold for generative models <code>m</code> and arbitrary <code>obs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L44-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.decondition" href="#AbstractPPL.decondition"><code>AbstractPPL.decondition</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">decondition(conditioned_model)</code></pre><p>Remove the conditioning (i.e., observation data) from <code>conditioned_model</code>, turning it into a generative model over prior and observed variables.</p><p>The invariant </p><pre><code class="nohighlight hljs">m == condition(decondition(m), obs)</code></pre><p>should hold for models <code>m</code> with conditioned variables <code>obs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L28-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.fix" href="#AbstractPPL.fix"><code>AbstractPPL.fix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fix(model, params)</code></pre><p>Fix the values of parameters specified in <code>params</code> within the probabilistic model <code>model</code>.  This operation is equivalent to treating the fixed parameters as being drawn from a point mass  distribution centered at the values specified in <code>params</code>. Thus these parameters no longer contribute to the accumulated log density. </p><p>Conceptually, this is similar to Pearl&#39;s do-operator in causal inference, where we intervene  on variables by setting them to specific values, effectively cutting off their dependencies  on their usual causes in the model.</p><p>The invariant</p><pre><code class="nohighlight hljs">m == unfix(fix(m, params))</code></pre><p>should hold for any model <code>m</code> and parameters <code>params</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L62-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.unfix" href="#AbstractPPL.unfix"><code>AbstractPPL.unfix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unfix(model)</code></pre><p>Remove any fixed parameters from the model <code>model</code>, returning a new model without the fixed parameters.</p><p>This function reverses the effect of <code>fix</code> by removing parameter constraints that were previously set. It returns a new model where all previously fixed parameters are allowed to vary according to their  original distributions in the model.</p><p>The invariant</p><pre><code class="nohighlight hljs">m == unfix(fix(m, params))</code></pre><p>should hold for any model <code>m</code> and parameters <code>params</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L84-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DensityInterface.logdensityof" href="#DensityInterface.logdensityof"><code>DensityInterface.logdensityof</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">logdensityof(model, trace)</code></pre><p>Evaluate the (possibly unnormalized) density of the model specified by the probabilistic program in <code>model</code>, at specific values for the random variables given through <code>trace</code>.</p><p><code>trace</code> can be of any supported internal trace type, or a fixed probability expression.</p><p><code>logdensityof</code> should interact with conditioning and deconditioning in the way required by probability theory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractprobprog.jl#L15-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.AbstractContext" href="#AbstractPPL.AbstractContext"><code>AbstractPPL.AbstractContext</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractContext</code></pre><p>Common base type for evaluation contexts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/evaluate.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.evaluate!!" href="#AbstractPPL.evaluate!!"><code>AbstractPPL.evaluate!!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>evaluate!!</p><p>General API for model operations, e.g. prior evaluation, log density, log joint etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/evaluate.jl#L8-L13">source</a></section></article><h2 id="Abstract-traces"><a class="docs-heading-anchor" href="#Abstract-traces">Abstract traces</a><a id="Abstract-traces-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-traces" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractPPL.AbstractModelTrace" href="#AbstractPPL.AbstractModelTrace"><code>AbstractPPL.AbstractModelTrace</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractModelTrace</code></pre><p>Common base class for various trace or &quot;variable info&quot; types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractPPL.jl/blob/4897927349a5f9ea94c0bda8177d8ec894a57080/src/abstractmodeltrace.jl#L1-L5">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Tuesday 4 March 2025 11:32">Tuesday 4 March 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
